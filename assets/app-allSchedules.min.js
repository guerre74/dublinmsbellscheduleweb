(()=>{var a=bellScheduleData,b=bellScheduleConfig,c=a=>{var b=document.createElement("div");return b.innerText=a,b.innerHTML},d=(b,c)=>{for(var d in c){var e=c[d];if("name"!=d&&"object"==typeof e&&e.start&&e.end){var f=a.dateFromTimeString(b,e.start),g=a.dateFromTimeString(b,e.end);if(f.getTime()<=b.getTime()&&g.getTime()>b.getTime())return d}}return null},e=document.querySelector("#scheduleTable");(()=>new Promise(function(b,c){a.getSymbols().then(d=>{if(!d)return c({errorType:"symbolError",error:"Symbol data is not compliant."});var e=new Date;a.getCalendar(e).then(f=>f&&"string"==typeof f?void a.getSchedule(e,f).then(a=>{b({symbols:d,calendar:f,schedule:a})}).catch(a=>{c({errorType:"scheduleError",error:a})}):c({errorType:"calendarError",error:"Calendar data is not compliant."})).catch(a=>{c({errorType:"calendarError",error:a})})}).catch(a=>{c({errorType:"symbolError",error:a})})}))().then(b=>{var f=a=>{var c=b.symbols,d=Object.keys(c),e=a;return d.forEach(a=>{e=e.replace(new RegExp("\\$\\("+a+"\\)"),c[a].value)}),e};if(!b.schedule)return void(e.innerHTML="<li><div class=\"className\">No schedule was found for today.</div></li>");var g=b.schedule;console.log(g);var h=Object.keys(g).filter(a=>"name"!=a).sort();setInterval(()=>{var b=e.innerHTML,i="",j=new Date,k=d(j,g);console.log(k),h.forEach(b=>{var d=g[b],e=a.displayTime(a.dateFromTimeString(j,d.start)),h=a.displayTime(a.dateFromTimeString(j,d.end)),l=f(d.name);i+="<li class=\"{{current}}\"><div class=\"className\">{{className}}</div><pre class=\"time\">{{startTime}} \u2014 {{endTime}}</pre></li>".replace(/{{current}}/g,k==b?"current":"").replace(/{{className}}/g,c(l)).replace(/{{startTime}}/g,e.padStart(8)).replace(/{{endTime}}/g,h.padStart(8))}),b!=i&&(e.innerHTML=i)},1e3)}).catch(()=>{e.innerHTML="<li><div class=\"className\">Error.</div></li>"})})();